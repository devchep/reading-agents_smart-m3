# Reading agents smart space tasks

## task1 directory

Содержит скрипты с базовыми операциями над smart space.

`knowledge_of_secret.py` содержит операции вставки, удаления и обновления троек.

`numbers_spammer.py` каждые 3 секунды кладет случайное число в smart space, `even_numbers_hater.py` отслеживает каждое новое число в smart space и удаляет четные числа, `numbers_spammer.py` извиняется за числа, которые пришлось удалить.


## task2.1 directory

Реализация совместного чтения текста N агентами.

`put_text.py` кладет текст для чтения в smart space.

`reading_bot.py` имеет подписку на следующий фрагмент, который нужно прочитать. В начале своей работы он проверяет, существует ли фрагмент в smart space и, если да, читает его и дальше продолжает чтение по подписке. Если же фрагмента не было в smart space, это значит, что `reading_bot.py` первый, кто подключился к чтению и ему нужно выяснить, какой следующий отрывок нужно прочитать.

Чтение по подписке реализовано так - при добавлении тройки с фрагментом агент читает его и удаляет, при удалении тройки с фрагментом происходит поиск следующего фрагмента и он кладется в smart space и т.д.


## task2.2 directory

Реализация поочередного чтения N агентами (имитация урока чтения).

`teacher.py` кладет текст, делитель текста (делитель очереди) и указатель на текущий открывок для чтения в smart space. Далее, он ожидает подключения учеников. После того, как N учеников подключилось, можно начать урок.

`student.py` знает свою позицию в очереди и отслеживает общую очередь. Когда наступила его очередь, он читает текст по указателю, передвигает его и передает очередь дальше.
Агенты могут подключаться и отсоединяться во время урока, остальные ученики отслеживают изменения в очереди и это не нарушает их работу.

Когда `teacher.py` сообщает о завершении урока, smart space очищается и все ученики отключаются.